$var title: 在BAE上部署web.py应用
$var description: 在BAE上部署web.py应用
$var keywords: BAE，web.py,python
$var jsfiles: 

<h1>在BAE上部署web.py应用</h1>
<h2>什么是BAE？</h2>
<p>全称是Baidu App Engine,  App Engine（应用引擎）的概念最早由Google提出，它是一套打包好的Web应用程序开发托管平台，Web开发用到的数据库、缓存、日志、消息等模块都在里面。</p>
<p>优势：<br>1.省去了开发人员对于服务器的安装、配置、日常运维等操作；<br>2.相对于服务器、虚拟机的成本来说，App Engine的成本极低，几乎是免费，对于正处在市场验证阶段的团队来说，非常划算；</p>
<p>市场上几个App Engine的比较：<br>1.GAE, Google app engine, 最早提出, 被墙，国内不能正常使用；<br>2.SAE,Sina app engine, 国内最早跟进，目前技术都比较成熟，可供玩家免费使用；<br>3.ACE, AliCloud engine,阿里在阿里云上的投入，声势、市场占有率等都让开发者对它很有信心。两种计费方式：分包月或按使用量；<br>4.BAE, Baidu app engine, 百度在这块没太大的媒体动静，以至于让人怀疑公司对这块业务的重视程度。但非常便宜，每天只需支付2毛钱<br>5.腾讯云居然没这项业务</p>
<p>最后决定使用BAE的原因是因为它有mongodb可以用，做个小demo问题不大。</p>
<h2>什么是web.py</h2>
<p>web.py则是一款基于python的web开发框架，对于喜爱Python的同学来说，</p>
<p>"Django lets you write web apps in Django. TurboGears lets you write web apps in TurboGears. Web.py lets you write web apps in Python.  —  Adam Atlas"</p>
<p>这句话很有诱惑力，实际使用也会发现确实小巧轻便，非常适合做产品demo。</p>
<h2>主要问题</h2>
<p>BAE并没有提供web.py的官方文档说明，需要自己根据根据过往经验摸索。</p>
<ol>
<li>程序入口</li>
<li>url路由的配置</li>
</ol>
<h2>主要过程</h2>
<p>git clone <a href="https://git.duapp.com/appidyourappid" target="_blank">https://git.duapp.com/appidyourappid</a><br>首次获取代码，可以下载到BAE默认的三个文件</p>
<ul>
<li>favicon.ico  ##站点的图标</li>
<li>app.conf #配置文件</li>
<li>index.py #主程序文件</li>
</ul>
<h4>需要增加的文件：</h4>
<ol>
<li>
<p>requirements.txt<br>web.py==0.37 ##引入web.py的类库，可以不用指定版本号</p>
</li>
<li>
<p>main.py （webpy.org首页的例子，复制粘贴时请注意代码里的空格）</p>
<pre>#!/usr/bin/env python<br>#-*- coding:utf-8 -*-<br>import web<br>urls = (<br> '/(.*)', 'hello'<br>)<br>app = web.application(urls, globals())<br>class hello:<br> def GET(self, name):<br>     if not name:<br>         name = 'World'<br>     return 'Hello, ' + name + '!'<br>if __name__ == "__main__":<br> app.run()</pre>

</li>
</ol>
<h4>需要修改的文件：</h4>
<p>1.index.py </p>
<pre>#!/usr/bin/env python<br>#-*- coding:utf-8 -*-<br>from bae.core.wsgi import WSGIApplication<br>from main import app  #main.py<br>application = WSGIApplication(app.wsgifunc())</pre>

<p>2、app.config</p>
<pre>handlers:<br>  - url : /static/(.<em>)<br>    script : /static/$1<br>  - url : /(.</em>)<br>    script: index.py</pre> 

<p>demo：<br><a href="http://abeiwa.duapp.com/" target="_blank">http://abeiwa.duapp.com/</a></p>
